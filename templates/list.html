{% extends "_layout.html" %}
{% block content %}

{% if msg %}
<div class="alert alert-success alert-dismissible fade show position-absolute" role="alert" style="transform: translateY(-80px); left:20%; right:20%;">
	<strong>{{msg}}</strong>
	<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}

{% if err %}
<div class="alert alert-danger alert-dismissible fade show position-absolute" role="alert" style="transform: translateY(-80px); left:20%; right:20%;">
	<strong>{{err}}</strong>
	<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endif %}

<h1 class="text-center">List</h1>
<hr /><br><br>

<table class="table table-striped w-50 mx-auto">
	<thead>
		<tr>
			<th scope="col">ID</th>
			<th scope="col">Name</th>
			<th scope="col">Points</th>
			<th scope="col"></th>
		</tr>
	</thead>
	<tbody>
		{% for row in rows %}
		<tr scope="row">
			<td>{{ row["id"] }}</td>
			<td>{{ row["name"] }}</td>
			<td>{{ row["points"] }}</td>
			<td>
				<form action="{{ url_for('list') }}" method="POST">
					<input type=hidden value="{{ row['id'] }}" name="delete_user"/>
					<button type="submit" class="btn btn-danger mx-3">
						<i class="bi bi-trash"></i>
					</button>
				</form>
			</td>
		</tr>
		{% endfor %}
	</tbody>

</table>

{% endblock %}